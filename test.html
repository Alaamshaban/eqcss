<!doctype html>
<meta charset="utf-8">
<title>EQCSS test page</title>
<style>
  * { box-sizing: border-box; }
  body { font-family: tahoma }
  script[type="text/eqcss"], script[type="text/eqcss-read"] { display: inline-block; background: #def; white-space: pre; padding: 0 20px 20px; margin: 30px 0 }
  div { overflow: auto; display: inline-block; border: 1px solid #000; padding: 30px; background: #fff8f1; }
  section { display: inline-block; border: 1px dotted red; }
  img { margin: 5px; }
</style>

<h1>EQCSS Test / demo page</h1>
<b>Use your mouse to resize the blocks</b>

<hr>

<h3>min-width in pixels</h3>

<div class="minwidthpixels" style="resize: horizontal">
  class="minwidthpixels"
</div>
<br>
<script type="text/eqcss">
@element ".minwidthpixels" and (min-width: 500px){
  .minwidthpixels { background: yellow; }
}
</script>

<h3>min-width in %</h3>

<div class="minwidthpercents" style="resize: horizontal">
  class="minwidthpercents"
</div>
<br>
<script type="text/eqcss">
@element ".minwidthpercents" and (min-width: 50%){
  .minwidthpercents { background: yellow; }
}
</script>

<h3>max-width in px</h3>

<div class="maxwidthpixels" style="resize: horizontal">
  class="maxwidthpixels"
</div>
<br>
<script type="text/eqcss">
@element ".maxwidthpixels" and (max-width: 500px){
  .maxwidthpixels { background: yellow; }
}
</script>

<h3>max-width in %</h3>

<div class="maxwidthpercents" style="resize: horizontal">
  class="maxwidthpercents"
</div>
<br>
<script type="text/eqcss">
@element ".maxwidthpercents" and (max-width: 50%){
  .maxwidthpercents { background: yellow; }
}
</script>


<h3>min-height in pixels</h3>

<div class="minheightpixels" style="resize: vertical">
  class="minheightpixels"
</div>
<br>
<script type="text/eqcss">
@element ".minheightpixels" and (min-height: 200px){
  .minheightpixels { background: yellow; }
}
</script>

<h3>min-height in %</h3>

<section style="height: 300px;">
  <div class="minheightpercents" style="resize: vertical">
    class="minheightpercents"
  </div>
</section>
<br>
<script type="text/eqcss">
@element ".minheightpercents" and (min-height: 50%){
  .minheightpercents { background: yellow; }
}
</script>

<h3>max-height in px</h3>

<div class="maxheightpixels" style="resize: vertical">
  class="maxheightpixels"
</div>
<br>
<script type="text/eqcss">
@element ".maxheightpixels" and (max-height: 200px){
  .maxheightpixels { background: yellow; }
}
</script>

<h3>max-height in %</h3>

<section style="height: 300px">
  <div class="maxheightpercents" style="resize: vertical">
    class="maxheightpercents"
  </div>
</section>
<br>
<script type="text/eqcss">
@element ".maxheightpercents" and (max-height: 50%){
  .maxheightpercents { background: yellow; }
}
</script>









<h3>min-characters on blocks</h3>
<b>(Use keyboard)</b>
<br>
<br>
<br>

<div class="mincharacters" contenteditable>
  class="mincharacters"
</div>
<br>
<script type="text/eqcss">
@element ".mincharacters" and (min-characters: 30){
  .mincharacters { background: yellow; }
}
</script>

<h3>max-characters on blocks</h3>

<div class="maxcharacters" contenteditable>
  class="maxcharacters"
</div>
<br>
<script type="text/eqcss">
@element ".maxcharacters" and (max-characters: 30){
  .maxcharacters { background: yellow; }
}
</script>






<h3>min-children</h3>
<br>

<div class="minchildren">
  class="minchildren"
</div>
<br>
<button onclick="document.querySelector('.minchildren').innerHTML += '<img src=//www.placehold.it/30>'">Add children</button>
<br>
<br>
<script type="text/eqcss">
@element ".minchildren" and (min-children: 10){
  .minchildren { background: yellow; }
}
</script>

<h3>max-children</h3>

<div class="maxchildren">
  class="maxchildren"
</div>
<br>
<button onclick="document.querySelector('.maxchildren').innerHTML += '<img src=//www.placehold.it/30>'">Add children</button>
<br>
<br>
<script type="text/eqcss">
@element ".maxchildren" and (max-children: 10){
  .maxchildren { background: yellow; }
}
</script>


<h3>Comments</h3>

<div class="comments" style="resize: horizontal">
  class="comments"
</div>
<br>
<script type="text/eqcss">
/* comment before */
@element ".comments" and (max-width: 400px){
  /* comment at the beginning */
  .comments { background: yellow; }
  /* comment at the end */
}
/* comment after */ 
</script>




<h3>Multiple conditions</h3>

<div class="multiple-conditions" style="resize: both">
  class="multiple-conditions"
</div>
<br>
<script type="text/eqcss">
@element ".multiple-conditions" and (min-width: 50%) and (min-height: 150px){
  .multiple-conditions { background: yellow; }
}
</script>




<h3>Scoped queries ($this)</h3>

<div class="scoped" style="resize: horizontal">
  class="scoped"
</div>
<div class="scoped" style="resize: horizontal">
  class="scoped"
</div>
<br>
<script type="text/eqcss">
@element ".scoped" and (min-width: 300px){

  /* Only set a yellow background to the elements matching the query */
  $this { background: yellow; }
  
}
</script>

<h3>Scoped queries + multiple conditions</h3>
(+ more complex use of $this inside qhe query)
<br>
<br>
<br>
<div class="scoped-multiple" style="resize: horizontal">
  <b>class="scoped-multiple"</b>
</div>
<div class="scoped-multiple" style="resize: horizontal">
  <b>class="scoped-multiple"</b>
</div>
<br>
<script type="text/eqcss">
@element ".scoped-multiple" and (min-width: 400px) and (max-width: 600px){

  /* Only set a yellow background (orange on hover) to the elements matching the query */
  $this { background: yellow; }
  $this:hover { background: orange; }
  
  /* Only set a red color to the b inside the elements matching the query */
  body>$this>b { color: red }
  
}
</script>


<!--[if lt IE 9]><script src="EQCSS-polyfills.js"></script><![endif]-->
<script src="EQCSS.js"></script>


<script>

// Apply eqcss on clicks, resizes, inputs

var EQCSS_resizing = false;
var EQCSS_timeout = true;

window.addEventListener("mousedown", function(){
  EQCSS_resizing = true;
  if(EQCSS_timeout == true){
    EQCSS.apply();
  }
  EQCSS_timeout = false;
  setTimeout(function(){
    EQCSS_timeout = true;
  },250);
});

window.addEventListener("mouseup", function(){
  EQCSS_resizing = false;
  if(EQCSS_timeout == true){
    EQCSS.apply();
  }
  EQCSS_timeout = false;
  setTimeout(function(){
    EQCSS_timeout = true;
  },250);
});

window.addEventListener("mousemove", function(){
  if(EQCSS_resizing === true){
    if(EQCSS_timeout === true){
      EQCSS.apply();
    }
    EQCSS_timeout = false;
    setTimeout(function(){
      EQCSS_timeout = true;
    },250);
  }
});

window.addEventListener("keydown", function(){
  if(EQCSS_timeout == true){
    EQCSS.apply();
  }
  EQCSS_timeout = false;
  setTimeout(function(){
    EQCSS_timeout = true;
  },250);
});

window.addEventListener("keyup", function(){
  l(1);
  if(EQCSS_timeout == true){
    EQCSS.apply();
  }
  EQCSS_timeout = false;
  setTimeout(function(){
    EQCSS_timeout = true;
  },250);
});

window.addEventListener("input", function(){
  if(EQCSS_timeout == true){
    EQCSS.apply();
  }
  EQCSS_timeout = false;
  setTimeout(function(){
    EQCSS_timeout = true;
  },250);
});

setInterval(function(){
  EQCSS.apply();
}, 1000);
</script>